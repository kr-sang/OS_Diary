C++ 알고리즘 및 기타 지식 메모장

1. 객체(object)란?
   클래스에서 만들어진 인스턴스. Dog MyDog;에서 MyDog가 객체. 객체를 통해 멤버 변수와 함수를 사용할 수 있고, 각 객체는 자신만의 데이터를 가짐.

2. namespace란?
   함수나 변수의 이름 충돌을 막기 위한 묶음(container)일 뿐이다. 이는 객체가 아니라 코드 조직을 위한 명칭 공간에 불과하므로 메모리에서 실제 기능(생성,소멸)이 없음.
   
3. static 변수란?
   변수 또는 함수가 프로그램 전체에서 한 번만 생성되고 메모리에 계속 유지되게 만든다.
   static 지역 변수는 함수 내에서 선언해도 함수가 끝난 후에 값이 유지되며,
   static 전역 변수는 해당 소스 파일 내에서만 접근할 수 있도록 범위가 제한된다.
   따라서 static 변수는 값을 한 번만 유지하고 싶을 때나, 파일/함수 경계를 제한하고 싶을 때 필요하다.

4. 부팅 초기에 사용 가능한 변수 및 로직은?
   부팅 초기, 커널이 메모리에 올라오는 시기에는 stack 변수와 global/static 변수를 사용하는 것이 좋다.
   부팅 초기 환경은 "1)메모리 할당자인 new, malloc 등이 준비되지 않음, 2)C++ 객체 생성 로직(생성자) 준비되지 않음" 와 같은데,
   이 때문에 1-1)동적 메모리나 2-1)전역/정적 객체(class)를 쓰지 못하고, 1-2)스택 변수나 static 변수를 사용한다.
   당연히 heap 영역으로의 메모리 할당은 커널이 구현해야 하므로 동적 메모리 사용은 어려우며, 생성자가 준비되지 않았으니 class를 쓸 수 없다.
   따라서 선언 시 자동으로 자라는 stack 영역을 사용하거나, 커널이 메모리에 올라올 때 자동으로 고정된 주소로 할당되는 global/static 변수를 사용해야 한다.
   결국 스택,전역변수는 RAM 상에 주소와 크기가 정해져 있고, 런타임 지원이 필요 없기에...
   
5. 커널이란?
   컴퓨터 하드웨어와 애플리케이션 사이 인터페이스 역할을 하며, 컴퓨터 자원인 CPU, 메모리, I/O device를 효율적으로 관리하는 software.

6. 커널 프로젝트 제작 시 코드상 유의점
   1) try/catch/throw의 예외 처리 코드 사용 불가. os 초기에 런타임 라이브러리가 준비되지 않음.
   2) dynamic_cast(런타임 형 변환) 사용 불가. 상속 관계의 객체끼리 부모/자식 간 안전하게 형변환 시 사용하는데, RTTI 지원이 필요해서.
   3) RTTI는 Run-Time Type Information으로, 프로그램이 실행 중에 타입 정보를 확인하게 해줌. typeid도 여기에 의존함. RTTI가 활성화되면
      각 객체는 자신의 타입에 대한 메타데이터를 가짐. 커널에선 이 메타데이터가 메모리를 키우는데, os의 핵심인 작은 코드 유지와 맞지 않음.
   4) STL 사용 불가. C++ 표준 라이브러리인 Standard Template Library로, vector, list, map, set, string, algorithm 등이 포함.
      STL은 동적 메모리 할당을 필수로 요구하는데, 커널 부팅 초기에는 메모리 풀이나 heap이 구현되지 않은 상태라 사용 어려움. 게다가
      템플릿, 예외처리, RTTI등 고급 기능과 얽혀있어 컴파일 및 실행에 복잡성 증가. 

7. 내 커널만의 런타임 라이브러리를 만드는 일이 중요하다!
   런타임 라이브러리란, 컴파일러가 컴파일 과정에서 자동으로 연결해서 프로그램 실행 시 제공하는 저수준 실행 지원 함수들의 집합이다.
   메모리 할당, 입출력, 예외처리 등의 기능을 가진다. 하지만 커널 개발 환경에서는 표준 라이브러리 사용이 어렵다. 커널은 OS 위에서 돌아가는 것이 아니라 하드웨어와 직접 통신을 하기 때문이다.
   따라서 런타임 라이브러리를 직접 구현해야 한다. 내 프로젝트에서 CommonLib 부분!
   
8. 싱글톤(singleton) 디자인 패턴
   하나의 클래스에 오직 하나의 인스턴스만 가지는 패턴. 생성자를 외부 호출 불가하도록 private으로 제한.
   static 멤버 함수를 통해서만 인스턴스에 접근 가능.
   전역 변수는 객체생성 시점이 예측 불가하고 여러 파일에서 무분별하게 접근 가능한 것과 달리, 싱글톤은 클래스(캡슐화)로 감싸서 관리하므로 생성, 파괴 시점이 명확하다. 객체지향적으로 하나뿐인 인스턴스를 제공하기에 유지보수성 매우 좋음. 커널 개발에서는 프로젝트 전체에서 단 한 번만 생성/사용되어야 하는 자원에서 꼭 사용함.
